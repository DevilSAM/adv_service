var R=Object.defineProperty;var P=(e,o,t)=>o in e?R(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var v=(e,o,t)=>P(e,typeof o!="symbol"?o+"":o,t);import{B as J,E as N,e as T}from"./app-B0wpD2Za.js";const d=J.create({headers:{Accept:"application/json"},baseURL:window.location.origin});d.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e)));d.interceptors.response.use(e=>e,e=>{var o;if(console.log("err: "+e),e.response.status===500){const t=(o=e.response.data)==null?void 0:o.message;N({message:`Во время выполнения операции произошла ошибка. Необходимо обратиться в службу технической поддержки пользователей. 

 ${t}`,type:"error",showClose:!0,duration:0})}return Promise.reject(e)});function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e,o){return o={exports:{}},e(o,o.exports),o.exports}var z=a(function(e){function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}),b=u(z),G=a(function(e){function o(n,r){for(var s=0;s<r.length;s++){var i=r[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function t(n,r,s){return r&&o(n.prototype,r),s&&o(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),y=u(G),M=a(function(e){function o(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}),w=u(M),B=a(function(e){function o(t,n){return e.exports=o=Object.setPrototypeOf||function(s,i){return s.__proto__=i,s},e.exports.__esModule=!0,e.exports.default=e.exports,o(t,n)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports});u(B);var L=a(function(e){function o(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&B(t,n)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}),U=u(L),k=a(function(e){function o(t){"@babel/helpers - typeof";return e.exports=o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}),j=u(k),W=a(function(e){var o=k.default;function t(n,r){if(r&&(o(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),q=u(W),$=a(function(e){function o(t){return e.exports=o=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}),S=u($),m=a(function(e){function o(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}),F=u(m),E=a(function(e){function o(t,n){return n.get?n.get.call(t):n.value}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports});u(E);var C=a(function(e){function o(t,n,r){if(!n.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return n.get(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports});u(C);var H=a(function(e){function o(t,n){var r=C(t,n,"get");return E(t,r)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}),O=u(H),K=function(){function e(){b(this,e)}return y(e,[{key:"destroy",value:function(){var t=this;Object.keys(this).forEach(function(n){return t[n]=null})}},{key:"getClassName",value:function(){return this.constructor.name}}]),e}(),_;(function(e){e.Boolean="boolean",e.Float="float",e.JSON="json",e.Number="number",e.String="string"})(_||(_={}));var g=function(){function e(){b(this,e)}return y(e,null,[{key:"clone",value:function(t,n){if(t===null||typeof t>"u"||j(t)!=="object")return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);if(t instanceof Array)return t.map(function(s){return e.clone(s,n)});if(t instanceof Object){var r={};return Object.keys(t).forEach(function(s){var i=n?n(s):s;r[i]=e.clone(t[s],n)}),r}throw new Error("Unable to copy. ".concat(t," isn't supported."))}},{key:"toBoolean",value:function(t){var n=typeof t=="string"?t.toLowerCase():t;return!(n==null||n<=0||n==="false"||n==="off")}},{key:"validConversionOptionNames",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(n).forEach(function(r){if(!t.hasOwnProperty(r))throw new SyntaxError('Conversion property name "'.concat(r,'" does not match a property name on the model.'))})}},{key:"convertDataToConversionType",value:function(t,n){switch(n){case _.Boolean:return e.toBoolean(t);case _.Float:return t===null?null:parseFloat(t);case _.Number:return t===null?null:parseInt(t,10);case _.String:return e.isObject(t)?JSON.stringify(t):t===null?null:String(t);case _.JSON:try{return JSON.parse(t)}catch{return t}default:return t}}},{key:"isObjectWithProperties",value:function(t){return e.isObject(t)&&Object.keys(t).length>0}},{key:"isObject",value:function(t){return!!t&&Array.isArray(t)===!1&&j(t)==="object"}}]),e}();function Q(e){var o=V();return function(){var n=S(e),r;if(o){var s=S(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return q(this,r)}}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function X(e,o,t){Y(e,o),o.set(e,t)}function Y(e,o){if(o.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}var h=new WeakMap,A=function(e){U(t,e);var o=Q(t);function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return b(this,t),n=o.call(this),X(w(n),h,{writable:!0,value:{expand:!1}}),O(w(n),h).expand=r.expand===!0,n}return y(t,[{key:"update",value:function(){var r=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=this._isObject(s,!0)?s:{};return g.validConversionOptionNames(this,i),Object.keys(this).forEach(function(c){var p=r[c],l=f[c];if(i[c]){var x=i[c];l=g.convertDataToConversionType(l,x)}r[c]=r._getPropertyData(p,l)}),this}},{key:"toJSON",value:function(){return g.clone(this)}},{key:"toJSONString",value:function(){return JSON.stringify(this.toJSON())}},{key:"fromJSON",value:function(r){var s=JSON.parse(r);return this.update(s),this}},{key:"clone",value:function(){return new this.constructor(this)}},{key:"_getPropertyData",value:function(r,s){var i=this;if(Array.isArray(r)===!0){var f=r[0],c=this._isBaseModelObject(f),p=this._isBaseModelClass(f);if(s==null&&p)return[];if(s==null)return r;var l=Array.isArray(s)===!1?[s]:s;return p?l.map(function(x){return new f(x,O(i,h))}):c?l.map(function(x){return new f.constructor(x,O(i,h))}):l}return s==null?this._updateData(r,null):this._updateData(r,s)}},{key:"_updateData",value:function(r,s){var i=this._isBaseModelObject(r),f=this._isBaseModelClass(r),c=g.isObjectWithProperties(s);if(i&&c){var p=r;return p.update(s),p}if(f&&(c||O(this,h).expand===!0)){var l=c?s:{};return new r(l,O(this,h))}else if(f)return null;return s??r}},{key:"_isBaseModelClass",value:function(r){return typeof r=="function"&&r.IS_BASE_MODEL}},{key:"_isBaseModelObject",value:function(r){return r instanceof t}},{key:"_isObject",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=g.isObject(r);return!i&&s&&console.error("Something is wrong! ".concat(this.getClassName(),' only allows Objects but "').concat(r,'" was passed in.')),i}}]),t}(K);F(A,"IS_BASE_MODEL",!0);class Z extends A{constructor(t={}){super({expand:!0});v(this,"id");v(this,"title");v(this,"description");v(this,"image");v(this,"images");v(this,"price");this.update(t)}update(t){super.update(t)}toRequestForm(){return this.clone()}}const ee=()=>{function e(r={}){return d({url:"/api/adverts",method:"get",params:r})}function o(r,s={}){return d({url:`/api/adverts/${r}`,method:"get",params:s})}function t(r){return d({url:"/api/adverts",method:"post",data:r})}const n=T(new Z);return{getAdvertsList:e,getAdvert:o,createAdvert:t,model:n}};export{Z as A,A as B,ee as u};
